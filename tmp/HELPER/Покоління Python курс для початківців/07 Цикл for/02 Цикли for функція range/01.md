## Тема уроку: часті сценарії

1. Підрахунок кількості
2. Обчислення суми та твору
3. Обмін значень змінних
4. Сигнальні мітки
5. Визначення максимуму та мінімуму
6. Розширені оператори присвоєння

**Аннотація**. Розглянемо часті сценарії під час написання циклів.

<h2 align="center"><b>Підрахунок кількості</b></h2>

Нерідко потрібно, щоб наші програми підраховували скільки разів щось трапилося. Наприклад відео гра може підраховувати кількість поворотів персонажа або математична програма може вважати як багато чисел мають деяку властивість. Ключ до підрахунку - використання змінної лічильника.

Напишемо програму, яка зчитує 10 чисел і визначає скільки їх більше 10.

```python
counter = 0
for i in range(10):
    num = int(input())
    if num > 10:
        counter = counter + 1
print('Було введено', counter, 'чисел, великих 10.')
````

Щоразу коли ми зчитуємо число більше 10, ми додаємо 1 до нашого поточного значення змінної `counter`. У програмі це реалізовано в рядку counter = counter + 1. Зверніть увагу на початкове значення змінної лічильника counter = 0. Без початкового значення ми отримали б помилку, оскільки дійшовши до рядка counter = counter + 1 Python нічого не знав би про змінну counter . Рядок коду ` counter = counter + 1 ` означає : візьми старе значення змінної ` counter ` , додай до нього 1 і переприсвій змінною це значення . Якщо не надати змінної початкове значення, то незрозуміло, до чого додавати 1 вперше.

**Підрахунок кількості** – це дуже частий сценарій. Він складається із двох кроків:

1. Створення змінної лічильника та надання їй первісного значення: ` counter = 0 `;
2. Збільшення змінної лічильника на 1: ` counter = counter + 1 `.

Часто під час написання програм потрібно використовувати кілька лічильників. Модифікуємо попередню програму: порахуємо ще кількість нулів серед введених чисел.

```python
counter1 = 0
counter2 = 0
for i in range(10):
    num = int(input())
    if num > 10:
        counter1 = counter1 + 1
    if num == 0:
        counter2 = counter2 + 1
print('Було введено', counter1, 'чисел, великих 10.')
print('Було введено', counter2, 'нулів.')
````

Розглянемо ще один приклад: підрахувати кількість чисел із діапазону [1;100], квадрат яких закінчується на 4.

```python
counter = 0
for i in range(1, 101):
    if i**2 % 10 == 4:
        counter = counter + 1
print(counter)
````

Ми використовуємо функцію `range()` з двома параметрами для генерації послідовності чисел від 1 до 100. Змінна `i` послідовно приймає значення від 1 до 100, ми перевіряємо, чи умова: квадрат числа `i` закінчується на 4 за допомогою умови `i **2% 10 == 4`.

> Для змінної лічильника зручно використовувати ім'я counter.

<h2 align="center"><b>Обчислення суми та твору</b></h2>

Поруч із підрахунком кількості по частоті стоїть завдання обчислення суми. Наприклад, відеогра повинна вважати суму очок. У такому разі початкове значення змінної дорівнюватиме 0, а далі воно збільшуватиметься на деяку кількість зароблених очок, скажімо на 10. Ми пишемо наступний код:

```python
score = 0
...
score = score + 10
````

Напишемо програму, яка зчитує 10 чисел та визначає суму тих із них, які більше 10.

```python
total = 0
for i in range(10):
    num = int(input())
    if num > 10:
        total = total + num
print('Сума чисел більших 10 дорівнює', total)
````

Щоразу, коли програма зчитує число більше 10, вона додає його до поточного значення змінної `total`. Це реалізовано у рядку `total=total+num`. Зверніть увагу на початкове значення змінної суматора `total=0`. Без початкового значення ми отримали б помилку, оскільки дійшовши до рядка `total = total + num` Python нічого не знав би про змінну `total` . Рядок коду `total = total + num` означає візьми старе значення змінної `total`, додай до нього `num` і переприсвій змінною це значення. Якщо не надати змінній початкове значення, то нема до чого додавати `num` у перший раз.

**Підрахунок суми** складається з двох кроків:

1. Створення змінної суматора та надання їй первісного значення: ` total = 0 `;
2. Збільшення змінної суматора на потрібне число: ` total = total + num `.

Напишемо програму, яка вважає суму натуральних чисел від 1 до 100:

```python
total = 0
for i in range(1, 101):
    total = total + i
print('Сума дорівнює', total)
````

Розглянемо ще один приклад: напишемо програму, яка запитує 10 цілих чисел і знаходить їхнє середнє значення:

```python
total = 0
for i in range(10):
    num = int(input())
    total = total + num
average = total / 10
print('Середнє значення дорівнює', average)
````

Аналогічним чином обчислюється твір. При обчисленні твору початкове значення змінної **мультиплікатора** ми встановлюємо рівним **1**, на відміну від суматора, де воно дорівнює 0.

> Для змінної суматора та мультиплікатора зручно використовувати ім'я `total`.

<h2 align="center"><b>Обмін значень змінних</b></h2>

Дуже часто нам потрібно обміняти значення двох змінних `x` та `y`. Початківці програмісти іноді пишуть такий код:

```python
x = y
y = x
````

Однак він не працює. Припустимо, що `x = 3` та `y = 5`. Перший рядок надасть змінній `x` значення 5, що правильно, проте другий рядок встановить значення змінної `y` в 5, оскільки значення `x` вже дорівнює 5. Для вирішення задачі ми можемо використовувати **тимчасову змінну**:

```python
temp = x
x = y
y = temp
````

Такий код пишуть майже у всіх мовах програмування. Однак у Python є і простіший спосіб. Ми можемо написати так:

```python
x, y = y, x
````

В результаті виконання такого коду Python поміняє значення змінних `x` та `y` місцями.

<h2 align="center"><b>Сигнальні позначки</b></h2>

Сигнальна мітка (прапорець) може використовуватися, коли треба щоб одна частина програми дізналася про те, що відбувається в іншій частині програми.

Напишемо програму, що визначає, що натуральне число є [простим](https://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%BE%D1%81%D1%82%D0%BE%D0%B5_%D1%87%D0%B8%D1%81%D0%BB%D0%BE):

```python
num = int(input())
flag = True

for i in range(2, num):
    if num % i == 0: # якщо вихідне число ділиться на якесь відмінне від 1 і самого себе
        flag = False

if num == 1:
    print('Це одиниця, вона не проста і не складова')
elif flag == True:
    print('Число просте')
else:
    print('Число складове')
````

Нагадаємо, що число є простим, якщо воно не має дільників, крім 1 і самого себе. Наведена вище програма працює наступним чином: початкове значення змінної прапора дорівнює `True`, що говорить про те, що число є простим. Потім ми перебираємо усі числа від 2 до `num - 1`. Якщо одне з цих значень виявляється дільником числа `num`, тоді число `num` є складовим і ми встановлюємо значення прапора `False`. Як тільки цикл завершено, ми перевіряємо, чи встановлено прапор чи ні. Якщо це так, ми знаємо, що був дільник і число не є простим. В іншому випадку число має бути простим.

Прапорні змінні можуть мати більш осмислену назву. Наприклад, у випадку з перевіркою числа на простоту назва прапорової змінної могла б бути `is_prime`.

<h2 align="center"><b>Максимум і мінімум</b></h2>

Пошук найбільшого чи найменшого значення у певній послідовності чисел, також найчастіше завдання у програмуванні. Напишемо програму, яка зчитує 10 позитивних чисел і знаходить серед них найбільше число.

```python
largest = -1
for i in range(10):
    num = int(input())
    if num > largest:
        largest = num
print('Найбільше число дорівнює', largest)
````

Ми встановлюємо початкове значення змінної `largest` -1. Далі програма зчитує 10 чисел, і якщо якесь із них виявляється більшим за поточне значення `largest`, перепривласнює його. Як початкове значення взято число -1, оскільки знаємо, що це числа позитивні, в такий спосіб перше порівняння призведе до переприсвоювання.

Поширений підхід, коли як початкове значення змінної, відразу приймається перший елемент послідовності. Напишемо програму, яка зчитує 10 чисел (необов'язково позитивних) і знаходить серед них найбільше:

```python
largest = int(input()) # приймаємо перше число за максимальне
for i in range(9):
    num = int(input())
    if num > largest:
        largest = num
print('Найбільше число дорівнює', largest)
````

Для знаходження найменшого значення послідовності слід поміняти знак нерівності (>) на протилежний (<). У такому випадку назву змінної `largest` варто замінити на `smallest`.

> Для змінних, що зберігають найбільше та найменше значення, підходять імена `largest` та `smallest`.

<h2 align="center"><b>Розширені оператори присвоєння</b></h2>

Досить часто програми мають інструкції присвоювання, в яких змінна на лівій стороні від оператора = також з'являється на правій стороні. Наприклад,

```python
counter = counter + 1
````

На правій стороні оператора присвоєння 1 додається до змінної `counter`. Отриманий результат присвоюється змінної `counter`, замінюючи початкове значення. По суті, це код коду додає 1 до `counter`. Ще один приклад такої інструкції ми бачили при підрахунку суми:

```python
total = total + num
````

Ця інструкція надає значення виразу `total + num` змінної `total`. В результаті виконання цієї інструкції число 'num' додається до значення 'total'.

<div align="center">Різні інструкції присвоєння (у кожній інструкції x = 6)</div>

Інструкція | Що вона робить. | Значення x після інструкції
--|--|--
`x = x + 4` | Додає 4 до `x` | 10
`x = x - 3` | Віднімає 3 з `x` | 3
`x = x * 10` | Помножує `x` на 10| 60
`x = x/4` | ділить `x` на 4 | 1.5
`x = x // 4` | Ділить націло `x` на 4 | 1
`x = x % 4` | Знаходить залишок від розподілу `x` на 4 | 2

Ці типи операцій знаходять широке застосування у програмуванні. Для зручності Python пропонує **розширені оператори присвоєння**. Розширені оператори не вимагають, щоб програміст двічі набирав ім'я змінної. Наведену нижче інструкцію:

```python
total = total + num
````

можна переписати як

```python
total += num
````

Так само інструкцію

```python
counter = counter + 1
```

можна переписати як

```python
counter += 1
```

Оператор | Приклад використання | Еквівалент
--|--|--
+= | x + = 5 | x = x + 5
-= | x -= 2 | x = x - 2
* = | x * = 10 | x = x * 10
/= | x / = 4 | x = x/4
//= | x //= 4 | x = x // 4
% = | x % = 4 | x = x % 4

<h2 align="center"><b>Примітки</b></h2>

**Примітка 1**. Аналогічно можна міняти місцями значення трьох і більше змінних.

**Примітка 2**. Дуже часто сигнальні мітки називають `flag`.

**Примітка 3**. Оскільки в Python є вбудовані функції max() і min(), то давати такі назви для максимального і мінімального значення не дуже добре. Куди краще використовувати назви `largest` та `smallest`.

**Примітка 4**. Суму чисел від 1 до 100 можна обчислити і без циклу:

<div align="center">Сума = (1 + 100) / 2 * 100 = 5050.</div>

Справді, числа від 11 до 100 можна розбити на 50 пар, сума в яких дорівнює 101:

<div align="center">1+100=101,2+99=101,3+98=101,…50+51=101.</div>

У початковій школі, де навчався математик [Карл Фрідріх Гаусс](https://ru.wikipedia.org/wiki/%D0%93%D0%B0%D1%83%D1%81%D1%81,_%D0%9A%D0%B0%D1%80%D0%BB_%D0%A4%D1%80%D0%B8%D0%B4%D1%80%D0%B8%D1%85) (6 років), вчитель, щоб зайняти клас на тривалий час самостійною роботою, дав завдання учням – обчислити суму всіх натуральних чисел від 11 до 100100. Маленький Гаус відповів на запитання майже миттєво, застосувавши вказаний спосіб підрахунку, чим неймовірно здивував усіх і, перш за все всього, вчителі.
<div align="center"><img src="https://s3.nat-geo.ru/images/2019/4/10/f842e68b3a584b14830778993084f037.max-2000x1000.jpg" width="200"></div>
