
## Тема уроку: спискові вирази

1. Облікові вирази
2. Розв'язання задач

**Аннотація**. Облікові вирази. Створення списків без використання циклів і виклику спискового методу append().

<h2 align="center"><b>Створення списків</b></h2>

Для того, щоб створити список, що складається з 1010 нулів, ми можемо використовувати наступний код:

```python
zeros = []
for i in range(10):
    zeros.append(0)
```

У Python, однак, є більш простий і компактний спосіб для створення такого списку. Ми можемо використовувати оператор множення списку на число:

```python
zeros = [0] * 10
```

Для створення списків, заповнених за складнішими правилами, нам доводиться явно використовувати цикл `for`.

Наприклад, для створення списку цілих чисел від 00 до 99 ми змушені писати такий код:

```python
numbers = []
for i in range(10):
    numbers.append(i)
```

Такий код хоч і не складний, проте досить громіздкий.

<h2 align="center"><b>Облікові висловлювання</b></h2>

Python має механізм для створення списків з неповторних елементів. Такий механізм називається **обліковий вираз** (list comprehension).

Попередній код можна записати так:

```python
numbers = [i for i in range(10)]
```

Загальний вигляд облікового виразу наступний:

`[вираз for змінна in послідовність]`

де `змінна` - ім'я деякої змінної, `послідовність` - послідовність значень, які вона набуває (список, рядок або об'єкт, отриманий за допомогою функції `range`), `вираз` - деякий вираз, як правило, що залежить від використаної у списковому виразі змінної, яким будуть заповнені елементи списку.

<h3 align="center"><b>Приклади використання спискових виразів</b></h3>

**1. Створити список, заповнений 10 нулями, можна і за допомогою облікового виразу:**

```python
zeros = [0 for i in range(10)]
```

**2. Створити список, заповнений квадратами цілих чисел від 0 до 9, можна так:**

```python
squares = [i ** 2 for i in range(10)]
```

**3. Створити список, заповнений кубами цілих чисел від 10 до 20, можна так:**

```python
cubes = [i ** 3 for i in range(10, 21)]
```

**4. Створити список, наповнений символами рядка:**

```python
chars = [c for c in 'abcdefg']
print(chars)
```

<h3 align="center"><b>Зчитування вхідних даних</b></h3>

При вирішенні багатьох завдань із попередніх уроків ми зчитували початкові дані (рядки, числа) та заповнювали ними список. За допомогою облікових виразів процес заповнення списку можна помітно скоротити.

Наприклад, якщо спочатку вводиться число `n` – кількість рядків, а потім самі рядки, створити список можна так:

```python
n = int(input())
lines = [input() for _ in range(n)]
```

Можна опустити опис змінної `n`:

```python
lines = [input() for _ in range(int(input()))]
```

Якщо потрібно рахувати список чисел, необхідно додати перетворення типів:

```python
numbers = [int(input()) for _ in range(int(input()))]
```

Зверніть увагу, ми використовуємо символ `_` як ім'я змінної циклу, оскільки вона не використовується.

> Облікові висловлювання часто використовуються для ініціалізації списків. У Python не прийнято створювати порожні списки, а потім заповнювати їх значеннями, якщо цього можна уникнути.

<h3 align="center"><b>Умови у списковому виразі</b></h3>

У спискових висловлюваннях можна використовувати умовний оператор. Наприклад, якщо потрібно створити список парних чисел від 0 до 20, ми можемо написати такий код:

```python
evens = [i for i in range(21) if i % 2 == 0]
```

> **Важливо**: щоб отримати список, що складається з парних чисел, краще використовувати функцію `range(0, 21, 2)`. Попередній приклад наведено для демонстрації можливості використання умов у спискових виразах.

<h3 align="center"><b>Вкладені цикли</b></h3>

У списку можна використовувати вкладені цикли.

Наступний програмний код:
```python
numbers = [i * j for i in range(1, 5) for j in range(2)]
print(numbers)

```
Такий код рівнозначний такому:

```python
numbers = []

for i in range(1, 5):
    for j in range(2):
        numbers.append(i * j)
print(numbers)
```

<h3 align="center"><b>Підводячи підсумок</b></h3>

Нехай `word = 'Hello', numbers = [1, 14, 5, 9, 12], words = ['one', 'two', 'three', 'four', 'five', 'six']`.

Обліковий вираз | Результуючий список
--|--
`[0 for i in range(10)]` |	`[0, 0, 0, 0, 0, 0, 0, 0, 0, 0]`
`[i ** 2 for i in range(1, 8)]` |	`[1, 4, 9, 16, 25, 36, 49]`
`[i * 10 for i in numbers]` |	`[10, 140, 50, 90, 120]`
`[c * 2 for c in word]` |	`['HH', 'ee', 'll', 'll', 'oo']`
`[m[0] for m in words]` |	`['o', 't', 't', 'f', 'f', 's']`
`[i for i in numbers if i < 10]` |	`[1, 5, 9]`
`[m[0] for m in words if len(m) == 3]` |	`['o', 't', 's']`
